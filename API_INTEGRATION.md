# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API tusovwka.ru

## –û–±–∑–æ—Ä

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å –≤–Ω–µ—à–Ω–∏–º API `api.tusovwka.ru/mafia/players` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∏–≥—Ä–æ–∫–æ–≤. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞–º–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ API.

## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å API
- **–ö–Ω–æ–ø–∫–∞ "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å API"** (üîÑ) - –æ–±–Ω–æ–≤–ª—è–µ—Ç `member_id` –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏–≥—Ä–æ–∫–æ–≤ –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ –∏–∑ API
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä–æ–∫–æ–≤
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ API
- **–ö–Ω–æ–ø–∫–∞ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ API"** (‚òÅÔ∏è) - –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ API
- –¢—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –≤—Å—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä–æ–∫–æ–≤

### 3. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ member_id
- –í —Å–ø–∏—Å–∫–µ –∏–≥—Ä–æ–∫–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è `member_id` –∏–∑ API
- –§–æ—Ä–º–∞—Ç: "ID: 123" –ø–æ–¥ –Ω–∏–∫–Ω–µ–π–º–æ–º –∏–≥—Ä–æ–∫–∞

### 4. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–æ–≤
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∏–≥—Ä–æ–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∫–Ω–æ–ø–∫–æ–π "–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ"
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ `mafia.tusovwka.ru/players/{member_id}`
- –ï—Å–ª–∏ —É –∏–≥—Ä–æ–∫–∞ –Ω–µ—Ç `member_id`, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ

## –£–¥–∞–ª–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚ùå –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤ –≤—Ä—É—á–Ω—É—é
- ‚ùå –£–¥–∞–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤
- ‚ùå –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏–≥—Ä–æ–∫–∞—Ö
- ‚ùå –ó–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–≥—Ä–æ–∫–æ–≤ –≤ —Ñ–∞–π–ª—ã
- ‚ùå –õ–æ–∫–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–æ–≤

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API

API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```json
[
  {
    "member_id": 1,
    "nickname": "Player1"
  },
  {
    "member_id": 2,
    "nickname": "Player2"
  }
]
```

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ö–æ–¥–∏—Ä–æ–≤–∫–∞ —Ä—É—Å—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ä—É—Å—Å–∫–∏—Ö –Ω–∏–∫–Ω–µ–π–º–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `utf8.decode(response.bodyBytes)` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ UTF-8

## –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON

–ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∏–≥—Ä—ã –≤ JSON —Ñ–∞–π–ª –≤–∫–ª—é—á–∞–µ—Ç—Å—è `member_id`:
```json
{
  "players": {
    "player_id": {
      "nickname": "Player1",
      "realName": "Real Name",
      "memberId": 1,
      "stats": { ... }
    }
  }
}
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- **–°–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ —Å –∫—Ä–∞—Å–Ω—ã–º —Ñ–æ–Ω–æ–º
- **–û—à–∏–±–∫–∏ API**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã
- **–û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ JSON –æ—Ç–≤–µ—Ç—ã
- **–¢–∞–π–º–∞—É—Ç—ã**: 10 —Å–µ–∫—É–Ω–¥ –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, 5 —Å–µ–∫—É–Ω–¥ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- `lib/utils/api/tusovwka_api.dart` - HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
- `test/api_test.dart` - —Ç–µ—Å—Ç—ã –¥–ª—è API –∫–ª–∏–µ–Ω—Ç–∞

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `lib/utils/db/models.dart` - –¥–æ–±–∞–≤–ª–µ–Ω `memberId` –≤ –º–æ–¥–µ–ª—å `Player`
- `lib/utils/db/repo.dart` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å API
- `lib/screens/players.dart` - —É–ø—Ä–æ—â–µ–Ω UI, —É–±—Ä–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞–º–∏
- `lib/screens/player_info.dart` - –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∫–Ω–æ–ø–∫–æ–π –æ—Ç–∫—Ä—ã—Ç–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- `lib/utils/json/to_json.dart` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `memberId` –≤ JSON
- `lib/utils/json/from_json.dart` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `memberId` –≤ JSON

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–∞–∫–µ—Ç `http: ^1.2.0`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `url_launcher` –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Å—ã–ª–æ–∫ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É üîÑ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ API
2. **–ü–æ–ª–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**: –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ‚òÅÔ∏è –¥–ª—è –∑–∞–º–µ–Ω—ã –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ API
3. **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**: –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–≥—Ä–æ–∫–∞, –∑–∞—Ç–µ–º –∫–Ω–æ–ø–∫—É "–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ"

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ JSON —Ñ–∞–π–ª–∞–º–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- –°—Ç–∞—Ä—ã–µ –∏–≥—Ä–æ–∫–∏ –±–µ–∑ `member_id` –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- –ù–æ–≤—ã–µ –∏–≥—Ä–æ–∫–∏ –∏–∑ API –ø–æ–ª—É—á–∞—Ç `member_id` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
